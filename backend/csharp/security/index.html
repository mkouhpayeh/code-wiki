
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mkouhpayeh.github.io/code-wiki/backend/csharp/security/">
      
      
        <link rel="prev" href="../migrate-sqlserver/">
      
      
        <link rel="next" href="../state-service/">
      
      
      <link rel="icon" href="../../../assets/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>Security - Code WiKi</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Segoe+UI:300,300i,400,400i,700,700i%7CSFMono-Regular:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Segoe UI";--md-code-font:"SFMono-Regular"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#security" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Code WiKi" class="md-header__button md-logo" aria-label="Code WiKi" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Code WiKi
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Security
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Code WiKi" class="md-nav__button md-logo" aria-label="Code WiKi" data-md-component="logo">
      
  <img src="../../../assets/logo.png" alt="logo">

    </a>
    Code WiKi
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Assets
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Assets
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/mkdocs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mkdocs Materials
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../assets/windows-cmd/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Windows Command
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Automation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Automation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../automation/ansible-intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ansible
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../automation/ansible-playbook/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ansible Playbook
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../automation/ci-cd-github/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CI/CD GitHub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../automation/ci-cd-gitlab/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CI/CD GitLab
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Backend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Backend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ssh-key/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH Key
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" checked>
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Csharp
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Csharp
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../anonymous-endpoint/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Anonymous Endpoint
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../application-setting/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Application Settings
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../auth/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Authentication
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../authEx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    External Auth
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../azure-insights/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Azure Application Insights
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../connection-string/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Connection String
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../controller-attrib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Controller's Attribute
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ef/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Entity Framework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../email-service-cloud/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Mailing Services
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../email-service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Email Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exception-custom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exception Customization
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exception-filter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exception Filter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../exception-handler/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Exception Handler
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../google-recaptcha/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Google reCAPTCHA
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../http-request/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    HTTP Requests
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../iis-virtualApp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Deploy to IIS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../migrate-sqlserver/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Migrate DB Context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#owasp" class="md-nav__link">
    <span class="md-ellipsis">
      OWASP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-attacks" class="md-nav__link">
    <span class="md-ellipsis">
      Common Attacks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Attacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cross-site-scripting-xss" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Site Scripting (XSS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xss-spa" class="md-nav__link">
    <span class="md-ellipsis">
      XSS SPA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#origin-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Origin Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-injection" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Injection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-site-request-forgery" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Site Request Forgery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samesite-cookies" class="md-nav__link">
    <span class="md-ellipsis">
      SameSite Cookies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encryption" class="md-nav__link">
    <span class="md-ellipsis">
      Encryption
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Encryption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#symmetric-key" class="md-nav__link">
    <span class="md-ellipsis">
      Symmetric Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-key" class="md-nav__link">
    <span class="md-ellipsis">
      Public Key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Storing Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secret-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Secret Manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-settings" class="md-nav__link">
    <span class="md-ellipsis">
      App Settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-protection-api" class="md-nav__link">
    <span class="md-ellipsis">
      Data Protection API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blazor-protected-browser-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Blazor Protected Browser Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Storage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hashing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Hashing Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-options" class="md-nav__link">
    <span class="md-ellipsis">
      Security Options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secure-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Secure Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Secure Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cookies" class="md-nav__link">
    <span class="md-ellipsis">
      Cookies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessions" class="md-nav__link">
    <span class="md-ellipsis">
      Sessions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enforcing-https" class="md-nav__link">
    <span class="md-ellipsis">
      Enforcing HTTPS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enforcing HTTPS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redirect" class="md-nav__link">
    <span class="md-ellipsis">
      Redirect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rewrite" class="md-nav__link">
    <span class="md-ellipsis">
      Rewrite
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hsts" class="md-nav__link">
    <span class="md-ellipsis">
      HSTS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Error Pages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-code-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Status Code Pages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-exception-handler" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Exception Handler
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hiding-server-info" class="md-nav__link">
    <span class="md-ellipsis">
      Hiding Server Info
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hiding Server Info">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-http-headers" class="md-nav__link">
    <span class="md-ellipsis">
      Remove HTTP Headers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-http-headers" class="md-nav__link">
    <span class="md-ellipsis">
      Security HTTP Headers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security HTTP Headers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#x-frame-options" class="md-nav__link">
    <span class="md-ellipsis">
      X-Frame-Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-security-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Content-Security-Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refrerrer-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Refrerrer-Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permissions-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Permissions-Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#x-content-type-options" class="md-nav__link">
    <span class="md-ellipsis">
      X-Content-Type-Options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../state-service/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Local State Service
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../validation-attrib-custom/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Localized Custom Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../validation-attrib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validation Attributes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Python
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../python/extract-firebird/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Extract Firebird .sql data
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Docker
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/docker-install/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker Installation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/docker-intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../docker/docker-useage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker Usage
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Frontend
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Frontend
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/bootstrap-update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bootstrap Update
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../frontend/markdown/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Markdown
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Sql
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Sql
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/col-max-len/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Column Max Length
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/index-frag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index Fragmentation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/index-job/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index Rebuild Job
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/index-list/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Schema Index List
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/index-rebuild/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index Rebuild
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sql/vol-space/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vol space
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Test
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Test
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../test/performance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Performance Tools
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#owasp" class="md-nav__link">
    <span class="md-ellipsis">
      OWASP
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-attacks" class="md-nav__link">
    <span class="md-ellipsis">
      Common Attacks
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Common Attacks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cross-site-scripting-xss" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Site Scripting (XSS)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#xss-spa" class="md-nav__link">
    <span class="md-ellipsis">
      XSS SPA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#origin-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Origin Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sql-injection" class="md-nav__link">
    <span class="md-ellipsis">
      SQL Injection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cross-site-request-forgery" class="md-nav__link">
    <span class="md-ellipsis">
      Cross-Site Request Forgery
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#samesite-cookies" class="md-nav__link">
    <span class="md-ellipsis">
      SameSite Cookies
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#encryption" class="md-nav__link">
    <span class="md-ellipsis">
      Encryption
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Encryption">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#symmetric-key" class="md-nav__link">
    <span class="md-ellipsis">
      Symmetric Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#public-key" class="md-nav__link">
    <span class="md-ellipsis">
      Public Key
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Storing Data
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Storing Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#secret-manager" class="md-nav__link">
    <span class="md-ellipsis">
      Secret Manager
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#app-settings" class="md-nav__link">
    <span class="md-ellipsis">
      App Settings
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-protection-api" class="md-nav__link">
    <span class="md-ellipsis">
      Data Protection API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blazor-protected-browser-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Blazor Protected Browser Storage
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cloud-storage" class="md-nav__link">
    <span class="md-ellipsis">
      Cloud Storage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hashing-data" class="md-nav__link">
    <span class="md-ellipsis">
      Hashing Data
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-options" class="md-nav__link">
    <span class="md-ellipsis">
      Security Options
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#secure-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Secure Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Secure Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cookies" class="md-nav__link">
    <span class="md-ellipsis">
      Cookies
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sessions" class="md-nav__link">
    <span class="md-ellipsis">
      Sessions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#enforcing-https" class="md-nav__link">
    <span class="md-ellipsis">
      Enforcing HTTPS
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Enforcing HTTPS">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redirect" class="md-nav__link">
    <span class="md-ellipsis">
      Redirect
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rewrite" class="md-nav__link">
    <span class="md-ellipsis">
      Rewrite
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hsts" class="md-nav__link">
    <span class="md-ellipsis">
      HSTS
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#error-handling" class="md-nav__link">
    <span class="md-ellipsis">
      Error Handling
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Error Handling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#error-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Error Pages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#status-code-pages" class="md-nav__link">
    <span class="md-ellipsis">
      Status Code Pages
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-exception-handler" class="md-nav__link">
    <span class="md-ellipsis">
      Custom Exception Handler
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hiding-server-info" class="md-nav__link">
    <span class="md-ellipsis">
      Hiding Server Info
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Hiding Server Info">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#remove-http-headers" class="md-nav__link">
    <span class="md-ellipsis">
      Remove HTTP Headers
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#security-http-headers" class="md-nav__link">
    <span class="md-ellipsis">
      Security HTTP Headers
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Security HTTP Headers">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#x-frame-options" class="md-nav__link">
    <span class="md-ellipsis">
      X-Frame-Options
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#content-security-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Content-Security-Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#refrerrer-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Refrerrer-Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#permissions-policy" class="md-nav__link">
    <span class="md-ellipsis">
      Permissions-Policy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#x-content-type-options" class="md-nav__link">
    <span class="md-ellipsis">
      X-Content-Type-Options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="security">Security</h1>
<h2 id="owasp">OWASP</h2>
<ul>
<li><a href="https://owasp.org/Top10"><strong>Open Web Application Security Project</strong></a></li>
</ul>
<h2 id="common-attacks">Common Attacks</h2>
<h3 id="cross-site-scripting-xss">Cross-Site Scripting (XSS)</h3>
<ul>
<li>If we are outputting something on a razor page in a razor view as part of ASP.NET Core MVC in a blazer control with the <strong>@</strong> character, the data will be automatically HTML escaped.</li>
<li>Replacing Html.Raw with @ when outputting data ensures that HTML is encoded, preventing the execution of unintended JavaScript code.</li>
<li>So HTML special characters, opening angular bracket, closing angular bracket, double quotes, single quote, and the ampersand character, they are properly escaped. </li>
<li>The same functionality is also available using the <strong>@HtmlEncode</strong> method. That's part of system.web.httpUtility.</li>
<li>Do not use @Html.Raw("<script>alert(hello)</script>")</li>
<li><script> jQuery("h1.page-title").html('Search Result: @ViewBag.SearchTerm'); </script>. But the "\" character does not escape. So the js script will run, if we use '\x3c' instead of '&lt;' and '\x3e' instead of '&gt;' =&gt; "\x3cscript\x3ealert(hello)\x3c/script\x3e".</li>
<li>So we should use <strong>@System.Web.HttpUtility.JavaScriptStringEncode()</strong> in js scripts. =&gt; scapes all "\" characters. Using JavaScriptStringEncode ensures that all JavaScript special characters are properly escaped, preventing code injection vulnerabilities.</li>
<li><strong>If you can just avoid using .NET code and binary data with add within JavaScript. Just stick with an HTML.</strong></li>
</ul>
<h3 id="xss-spa">XSS SPA</h3>
<ul>
<li>Angular has a pretty good security posture. It is also escaping things like the href attribute for links. Use <strong>{{}}</strong> is HTML-escaped, but <strong>[]</strong> is not.</li>
<li>React <strong>{}</strong> is HTML-escaped and <strong>{{}}</strong> is not.</li>
<li>Vue.js <strong>{{}}</strong> is HTML-escaped but <strong>v-html=""</strong> and <strong>innetHTML={}</strong> is not.</li>
</ul>
<h3 id="origin-policy">Origin Policy</h3>
<ul>
<li>It is about the Protocol, Host and Domain.<ul>
<li>Protocol: http or https</li>
<li>Domain name: https://test.com or https://www.test.com</li>
<li>Port</li>
</ul>
</li>
<li>JavaScript has only access to things on the same origin, and the origin is defined by the HTML page that contains the JavaScript code. So if you run an application on one origin and the JavaScript code then tries to access something, for instance, an API on a different origin, then that does not work.<ul>
<li>When we use JavaScript to, say, call an API on a different origin, then the browser first contacts that server and asks whether that cross-origin request is in order. The browser does that by sending the Origin HTTP header to the remote server. And the remote server then can, so to speak, green-light a future request from that origin by returning a different HTTP header called Access-Control-Allow-Origin, and the value of that header has to be the same as the value of that Origin header you just saw. And only if that header is returned to the client, the client then knows, okay, JavaScript is allowed to send that HTTP request and then, well, sends the request to the server.</li>
</ul>
</li>
<li>Enabling CORS
        - [EnableCors(Policy)] attribute
        - [DisableCors] attribute
        - Configure in Program.cs
                ``` cs title="Program.cs"
                builder.Services.AddCors(options =&gt;
                {
                  options.AddPolicy(
                    "Policy1",
                    builder =&gt;
                    {
                      builder.WithOrigins("https://localhost:5001");
                    });
                });<div class="language-text highlight"><pre><span></span><code>app.UseCors(&quot;Policy1&quot;);
```
</code></pre></div>
</li>
</ul>
<h3 id="sql-injection">SQL Injection</h3>
<ul>
<li>Do not send the value of ID as a string</li>
<li>ADO.net: Do not use string concatanation to write the sql command. (1;Drop table Test1)<ul>
<li>Use parametrized queries with <strong>@</strong> and the name as a placeholder.</li>
</ul>
</li>
<li>Entity Framework<ul>
<li>Avoid execute raw SQL: <strong>DbContext.Database.SqlQueryRaw()</strong> or <strong>DbContext.Database.ExecuteRawQuery()</strong> or <strong>DbContext.SomeEntity.FromSqlRaw()</strong></li>
<li>Return <strong>IEnumerable</strong> instead of <strong>IQueryable</strong></li>
</ul>
</li>
</ul>
<h3 id="cross-site-request-forgery">Cross-Site Request Forgery</h3>
<ul>
<li>CSRF (C-Serf) is an attack where malicious actions are executed on behalf of the victim without their consent, leveraging their authenticated session. Using the data saved in sessions.</li>
<li>But Asp.net Core has built-in Cross-Site request forgery protection. each request has specific Token. (asp-antiforgery="true")  If you have a form where the method is set to post, then also the request forgery token is automatically added.</li>
<li><strong>[ValidateAntiForgeryToken]</strong> enables and <strong>[IgnoreAntiforgeryToken]</strong> will disable the feature.</li>
</ul>
<h3 id="samesite-cookies">SameSite Cookies</h3>
<ul>
<li>Lax: the cookies only sent on a Cross-Sitee request. If it's an HTTP method, like get, that according to the rest specification does not change the state of the application. For post or put or delete, the cookie is not sent.</li>
<li>Strict:  if we have a Cross-Site request, the cookie is not sent at all.</li>
<li>None: no protection
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="c1">//builder.Services.AddSessions(options =&gt; {options.Cookie.SameSite=SameSite.Mode.None; options.Cookie.SecurePolicy= CookieSecurePolicy.SameRequest;});</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddSessions</span><span class="p">();</span><span class="w"> </span><span class="c1">//Lax</span>
</span></code></pre></div></li>
</ul>
<h2 id="encryption">Encryption</h2>
<h3 id="symmetric-key">Symmetric Key</h3>
<ul>
<li>Symmetric-key encryption means that we can use the <strong>key both for encrypting the data and for decrypting</strong> it. (AES or DES)</li>
</ul>
<h3 id="public-key">Public Key</h3>
<ul>
<li>We have a set of keys: a public key and a private key. And the idea is that we could, for instance, use the <strong>public key for encryption and then the private key for decrypting</strong> the data.</li>
</ul>
<h2 id="storing-data">Storing Data</h2>
<h3 id="secret-manager">Secret Manager</h3>
<p><div class="language-cs highlight"><span class="filename">Package Manager Console</span><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">dotnet</span><span class="w"> </span><span class="n">user</span><span class="o">-</span><span class="n">secret</span><span class="w"> </span><span class="k">init</span>
</span></code></pre></div>
- Then in the SolutionExplore, on right click context menu, select Manage User Secrets. The json file stores in the Profile. Only in local machine.</p>
<h3 id="app-settings">App Settings</h3>
<ul>
<li>appsettings.json is a JSON file with settings.</li>
<li>There is an extra file, appsettings.development.json. The idea is this, the appsettings.json file contains all of the settings that apply globally, no matter on which environment you are running the application, but per environment you can add specific JSON files that then can have extra settings or override global settings. So appsettings.development.json can override settings from the main appsettings.json file so you could have a different log level for instance. for example the appsettings.production.json</li>
<li>In Project Properties, Debug, General, just click on 'Open debug launch profiles UI'. Then shows the environment settings for development json file.</li>
</ul>
<h3 id="environment-variables">Environment Variables</h3>
<ul>
<li>The option might be that you're using environment variables for those settings and then read out the environment variables and those environment variables are then for instance, created as part of your CI/CD process.</li>
</ul>
<h3 id="data-protection-api">Data Protection API</h3>
<ul>
<li>You have an API to decrypt and to encrypt data, and all of the heavy lifting is done by .NET.</li>
</ul>
<h3 id="blazor-protected-browser-storage">Blazor Protected Browser Storage</h3>
<ul>
<li>With a Blazor application that runs in the browser, you can access local storage and session storage, and if you are using the interactive server rendering mode, then the data that you store in local storage and session storage can be encrypted, and the server then leverages the encryption and also the decryption.</li>
</ul>
<h3 id="cloud-storage">Cloud Storage</h3>
<ul>
<li>Each of the major cloud providers has a mechanism where you can store values and then have an API to retrieve those values. And usually you store the values once and then, you don't really see them, but your application can retrieve them. So in<ul>
<li>Azure: Key Vault</li>
<li>AWS: Secrets Manager</li>
<li>Google Cloud: Secret Manager</li>
</ul>
</li>
</ul>
<h2 id="hashing-data">Hashing Data</h2>
<ul>
<li>Hashing means I have a function that cannot be reversed.</li>
<li>A hash is like a fingerprint of that specific piece of information. </li>
<li>In addition, we are using something called a <strong>salt</strong>. A salt makes sure that if we are hashing the same password a couple of times, having a different salt means that the hashes are different.</li>
<li>There are different algorithms for creating hashes, and a common one is called <strong>PBKDF2</strong>.</li>
</ul>
<h2 id="security-options">Security Options</h2>
<ul>
<li>Token-based Authentication:<ul>
<li>OpenID Connect: OpenID Connect is a framework on top of OAuth and OpenID Connect is working with identity tokens. So who is the user?</li>
<li>OAuth:  OAuth is essentially a standard that works with so-called access tokens. Access tokens basically say, "What is a user allowed to access?"<blockquote>
<p>UnAuthorized HTTP Status Code: 401</p>
</blockquote>
</li>
</ul>
</li>
<li>Securing SPAs (Single Page App) with the BFF (Backends for Frontrnds) pattern: st Friends Forever, but Backends for Frontends. So the idea essentially boils down to this. You have a server component. That server component takes care of token management, so it stores the token. It refreshes the token if that's required. And the communication between client and that token management system is done using cookies because, once again, cookies can be secured.</li>
<li>Using Identity Provider such as <strong>IdentityServer</strong>, <strong>OpenIddict</strong>, <strong>Azure</strong></li>
</ul>
<h2 id="secure-configuration">Secure Configuration</h2>
<h3 id="cookies">Cookies</h3>
<ul>
<li>A client sends an HTTP request to a server, and the server then can start the Cookie process by returning the Set-Cookie HTTP header alongside the HTTP response. Set-Cookie HTTP header sets a Cookie with a name of value and there can also be Metadata like an expiration date. The client then may choose to store the Cookie or not, and on subsequent requests to that server, that Cookie is sent back. But, this time with a different HTTP header name just Cookie. The client is also sending only the name and the value of the Cookie, not the Metadata. That's something that is for client use only.</li>
</ul>
<p><div class="language-cs highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kt">var</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">CookieOptions</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span><span class="n">Secure</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="c1">//HTTPS</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span><span class="n">HttpOnly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="c1">//invisible for JS</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span><span class="n">SameSite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SameSiteMode</span><span class="p">.</span><span class="n">Lax</span><span class="w"> </span><span class="c1">//Cookie is being sent with a Cross-Site request, but only if you&#39;re using an HTTP method </span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="p">};</span>
</span></code></pre></div>
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="w">    </span><span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddAuthentication</span><span class="p">(</span><span class="n">CookieAuthenticationDefaults</span><span class="p">.</span><span class="n">AuthenticationScheme</span><span class="p">)</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="w">        </span><span class="p">.</span><span class="n">AddCookie</span><span class="p">(</span><span class="n">options</span><span class="w"> </span><span class="o">=&gt;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">        </span><span class="p">{</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">            </span><span class="n">options</span><span class="p">.</span><span class="n">LoginPath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">PathString</span><span class="p">(</span><span class="s">&quot;Account/Login&quot;</span><span class="p">);</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">            </span><span class="n">options</span><span class="p">.</span><span class="n">Cookie</span><span class="p">.</span><span class="n">HttpOnly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span><span class="w"> </span><span class="c1">//ensures that cookies are invisible to JavaScript, adding a layer of security against Cross-Site Scripting (XSS) attacks.</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">            </span><span class="n">options</span><span class="p">.</span><span class="n">Cookie</span><span class="p">.</span><span class="n">SecurePolicy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CookieSecurePolicy</span><span class="p">.</span><span class="n">Always</span><span class="p">;</span><span class="w"> </span><span class="c1">// ensures cookies are transported via HTTPS but does not control JavaScript visibility.</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">            </span><span class="n">options</span><span class="p">.</span><span class="n">Cookie</span><span class="p">.</span><span class="n">SameSite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SameSiteMode</span><span class="p">.</span><span class="n">Strict</span><span class="p">;</span><span class="w"> </span><span class="c1">//if cookies are sent with cross-site requests but does not affect JavaScript visibility. Protect cookies from being accessed by JavaScript.</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">        </span><span class="p">});</span>
</span></code></pre></div></p>
<h3 id="sessions">Sessions</h3>
<ul>
<li>A client sends a request to the server. The server once again responds with a Set-Cookie HTTP header, sets a cookie and the value of that cookie is a so-called session ID or contains a session ID that's an identifier for that session. We don't want to store cleartext information on the client because the client isn't trustworthy but an ID for something on the server works well. With subsequent requests, the client returns that session cookie.
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddSession</span><span class="p">(</span><span class="n">options</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">Cookie</span><span class="p">.</span><span class="n">HttpOnly</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span><span class="w"> </span><span class="c1">//Set Secure</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">Cookie</span><span class="p">.</span><span class="n">SecurePolicy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CookieSecurePolicy</span><span class="p">.</span><span class="n">Always</span><span class="p">;</span><span class="w"> </span><span class="c1">// want the secure flag</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">Cookie</span><span class="p">.</span><span class="n">SameSite</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SameSiteMode</span><span class="p">.</span><span class="n">Strict</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="p">});</span>
</span></code></pre></div></li>
</ul>
<h2 id="enforcing-https">Enforcing HTTPS</h2>
<h3 id="redirect">Redirect</h3>
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">app</span><span class="p">.</span><span class="n">UseHttpsRedirection</span><span class="p">();</span>
</span></code></pre></div>
<h3 id="rewrite">Rewrite</h3>
<ul>
<li>Depends on the Web Server. In IIS: Make sure the "IIS URL Rewrite module" is installed on your server.
<div class="language-cs highlight"><span class="filename">IIS</span><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">&lt;</span><span class="n">Configuration</span><span class="o">&gt;</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">system</span><span class="p">.</span><span class="n">webServer</span><span class="o">&gt;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">      </span><span class="o">&lt;</span><span class="n">rewrite</span><span class="o">&gt;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">rules</span><span class="o">&gt;</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">          </span><span class="o">&lt;</span><span class="n">rule</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Redirect to HTTPS&quot;</span><span class="w"> </span><span class="n">enabled</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="n">stopProcessing</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="o">&gt;</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">            </span><span class="o">&lt;</span><span class="n">match</span><span class="w"> </span><span class="n">url</span><span class="o">=</span><span class="s">&quot;(.*)&quot;</span><span class="w"> </span><span class="n">ignoreCase</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">            </span><span class="o">&lt;</span><span class="n">conditions</span><span class="o">&gt;</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">              </span><span class="o">&lt;</span><span class="k">add</span><span class="w"> </span><span class="n">input</span><span class="o">=</span><span class="s">&quot;{HTTPS}&quot;</span><span class="w"> </span><span class="n">pattern</span><span class="o">=</span><span class="s">&quot;off&quot;</span><span class="w"> </span><span class="n">ignoreCase</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">            </span><span class="o">&lt;/</span><span class="n">conditions</span><span class="o">&gt;</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">            </span><span class="o">&lt;</span><span class="n">action</span><span class="w"> </span><span class="n">type</span><span class="o">=</span><span class="s">&quot;Redirect&quot;</span><span class="w"> </span><span class="n">url</span><span class="o">=</span><span class="s">&quot;https://{HTTP_HOST}/{R:1}&quot;</span><span class="w"> </span><span class="n">redirectType</span><span class="o">=</span><span class="s">&quot;Permanent&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">          </span><span class="o">&lt;/</span><span class="n">rule</span><span class="o">&gt;</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">        </span><span class="o">&lt;/</span><span class="n">rules</span><span class="o">&gt;</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">      </span><span class="o">&lt;/</span><span class="n">rewrite</span><span class="o">&gt;</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">system</span><span class="p">.</span><span class="n">webServer</span><span class="o">&gt;</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="o">&lt;/</span><span class="n">Configuration</span><span class="o">&gt;</span>
</span></code></pre></div></li>
</ul>
<h3 id="hsts">HSTS</h3>
<ul>
<li>(HTTP Strict Transport Security) depends on the Browser.</li>
<li>Refers to an HTTP header called Strict-Transport-Security. If that header is set and it's an HTTP response header, so the server sends it to the client. If that header is set, it instructs the browser to only talk to the server via HTTPS from now on.</li>
<li>In the strict transport security HTTP header, you can provide the length. How long shall the browser remember this? By default is 30 days.
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddHsts</span><span class="p">(</span><span class="n">options</span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">MaxAge</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">TimeSpan</span><span class="p">.</span><span class="n">FromDays</span><span class="p">(</span><span class="mi">365</span><span class="p">);</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">IncludeSubDomains</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="p">});</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="n">app</span><span class="p">.</span><span class="n">UseHsts</span><span class="p">();</span>
</span></code></pre></div></li>
</ul>
<h2 id="error-handling">Error Handling</h2>
<h3 id="error-pages">Error Pages</h3>
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="n">app</span><span class="p">.</span><span class="n">UseDeveloperExceptionPage</span><span class="p">();</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">app</span><span class="p">.</span><span class="n">AddDatabaseDeveloperPageExceptionFilter</span><span class="p">();</span>
</span></code></pre></div>
<h3 id="status-code-pages">Status Code Pages</h3>
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">UseStatusCodePages</span><span class="p">();</span>
</span></code></pre></div>
<h3 id="custom-exception-handler">Custom Exception Handler</h3>
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="n">app</span><span class="p">.</span><span class="n">UseExceptionHandler</span><span class="p">(</span><span class="s">&quot;Home/Error&quot;</span><span class="p">);</span>
</span></code></pre></div>
<h2 id="hiding-server-info">Hiding Server Info</h2>
<h3 id="remove-http-headers">Remove HTTP Headers</h3>
<ul>
<li>Server and X-Powered-By show the Web Server and even more specific and provide minor version numbers, even patch version numbers. It depends of the Web Servers.</li>
<li>Kestrel
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">builder</span><span class="p">.</span><span class="n">WebHost</span><span class="p">.</span><span class="n">UseKestrel</span><span class="p">(</span><span class="n">options</span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="n">options</span><span class="p">.</span><span class="n">AddServerHeader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="p">});</span>
</span></code></pre></div></li>
<li>IIS
<div class="language-cs highlight"><span class="filename">web.config</span><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">&lt;</span><span class="n">Configuration</span><span class="o">&gt;</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">system</span><span class="p">.</span><span class="n">webServer</span><span class="o">&gt;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">security</span><span class="o">&gt;</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">            </span><span class="o">&lt;</span><span class="n">requestFiltering</span><span class="w"> </span><span class="n">removeServerHeader</span><span class="o">=</span><span class="s">&quot;true&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">        </span><span class="o">&lt;/</span><span class="n">security</span><span class="o">&gt;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">httpProtocol</span><span class="o">&gt;</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">            </span><span class="o">&lt;</span><span class="n">customHeaders</span><span class="o">&gt;</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">                </span><span class="o">&lt;</span><span class="k">remove</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="w"> </span><span class="s">&quot;X-Powered-By&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">            </span><span class="o">&lt;/</span><span class="n">customHeaders</span><span class="o">&gt;</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">        </span><span class="o">&lt;/</span><span class="n">httpProtocol</span><span class="o">&gt;</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">system</span><span class="p">.</span><span class="n">webServer</span><span class="o">&gt;</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="o">&lt;/</span><span class="n">Configuration</span><span class="o">&gt;</span>
</span></code></pre></div></li>
</ul>
<h2 id="security-http-headers">Security HTTP Headers</h2>
<h3 id="x-frame-options">X-Frame-Options</h3>
<ul>
<li>You can basically set, this site, or this page must not be put into an iframe, or shall only be put into an iframe of the same origin.</li>
</ul>
<h3 id="content-security-policy">Content-Security-Policy</h3>
<ul>
<li>Content security policy is a W3C standard that manifests an HTTP header that tells the browser where it may load resources from, including JavaScript. So you can tell the browser, essentially, which JavaScript code to load, or at least where to load it from.</li>
</ul>
<h3 id="refrerrer-policy">Refrerrer-Policy</h3>
<ul>
<li>Referrer policy takes care of the behavior of the referrer HTTP header, contains essentially the last URL. The URL that was loaded in the browser when the current HTTP request was made. For instance, by following a link, or by including an image. Referrer-Policy controls the referrer information sent with requests.</li>
</ul>
<h3 id="permissions-policy">Permissions-Policy</h3>
<ul>
<li>Restricts which JavaScript APIs may be called. Today's JavaScript is capable of doing lots of things, including determining the current position of the client, or connecting to Bluetooth low energy devices, and much, much more. And with a permissions policy, you can restrict which of those APIs JavaScript code on the current page may do. Permissions-Policy restricts which JavaScript APIs can be utilized.</li>
</ul>
<h3 id="x-content-type-options">X-Content-Type-Options</h3>
<ul>
<li>
<p>Can prevent that the browser is guessing the content type of the HTTP response, instead of just looking at the content type HTTP header. And there is an exotic attack kind of related to this. I'm not too sure whether this HTTP header is still necessary for modern browsers, but low hanging fruit. Just set one header, probably zero side effects. X-Content-Type-Options prevents the browser from guessing the MIME type of the content.</p>
</li>
<li>
<p>IIS
<div class="language-cs highlight"><span class="filename">web.config</span><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="o">&lt;</span><span class="n">Configuration</span><span class="o">&gt;</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="o">&lt;</span><span class="n">system</span><span class="p">.</span><span class="n">webServer</span><span class="o">&gt;</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">        </span><span class="o">&lt;</span><span class="n">httpProtocol</span><span class="o">&gt;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">            </span><span class="o">&lt;</span><span class="n">customHeaders</span><span class="o">&gt;</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">                </span><span class="o">&lt;</span><span class="k">add</span><span class="w"> </span><span class="n">name</span><span class="o">=</span><span class="s">&quot;X-Content-Type-Options&quot;</span><span class="w"> </span><span class="k">value</span><span class="o">=</span><span class="s">&quot;nosniff&quot;</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">            </span><span class="o">&lt;/</span><span class="n">customHeaders</span><span class="o">&gt;</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">        </span><span class="o">&lt;/</span><span class="n">httpProtocol</span><span class="o">&gt;</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">    </span><span class="o">&lt;/</span><span class="n">system</span><span class="p">.</span><span class="n">webServer</span><span class="o">&gt;</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="o">&lt;/</span><span class="n">Configuration</span><span class="o">&gt;</span>
</span></code></pre></div></p>
</li>
<li>Kestrel
<div class="language-cs highlight"><span class="filename">Program.cs</span><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">app</span><span class="p">.</span><span class="n">Use</span><span class="p">(</span><span class="k">async</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">next</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="p">{</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">    </span><span class="n">context</span><span class="p">.</span><span class="n">Response</span><span class="p">.</span><span class="n">Headers</span><span class="p">.</span><span class="n">Append</span><span class="p">(</span><span class="s">&quot;X-Content-Type-Options&quot;</span><span class="p">,</span><span class="s">&quot;nosniff&quot;</span><span class="p">);</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="n">next</span><span class="p">.</span><span class="n">Invoke</span><span class="p">();</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="p">});</span>
</span></code></pre></div></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../migrate-sqlserver/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Migrate DB Context">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Migrate DB Context
              </div>
            </div>
          </a>
        
        
          
          <a href="../state-service/" class="md-footer__link md-footer__link--next" aria-label="Next: Local State Service">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Local State Service
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 Mahi
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/in/mahboubeh-kouhpayeh/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zM102.2 96a38.5 38.5 0 1 1 0 77 38.5 38.5 0 1 1 0-77m282.1 320h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.footer", "content.code.copy"], "search": "../../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
    
  </body>
</html>